/* Component-specific styles for Ekima Learning Platform */

/* ============================================================================
   SIDEBAR COMPONENTS
   ============================================================================ */

   .sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-64 text-white shadow-lg;
    background: var(--gradient-primary);
  }
  
  .sidebar-header {
    @apply flex items-center justify-center h-16 px-4;
    border-bottom: 1px solid var(--color-accent);
  }
  
  .sidebar-nav-item {
    @apply w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200;
  }
  
  .sidebar-nav-item.active {
    @apply bg-white bg-opacity-20 text-white shadow-sm;
  }
  
  .sidebar-nav-item:not(.active) {
    color: var(--color-primary-light);
  }
  
  .sidebar-nav-item:not(.active):hover {
    @apply bg-white bg-opacity-10 text-white;
  }
  
  /* ============================================================================
     CARD COMPONENTS
     ============================================================================ */
  
  .subject-card {
    @apply relative bg-white rounded-xl shadow-sm border transition-all duration-300 cursor-pointer;
  }
  
  .subject-card:hover {
    @apply shadow-lg -translate-y-1;
    border-color: var(--color-accent);
  }
  
  .subject-card.recommended {
    --tw-ring-color: var(--color-accent);
    @apply ring-2 ring-opacity-50;
  }
  
  .recommendation-card {
    @apply border rounded-lg p-4 transition-all duration-200 cursor-pointer hover:shadow-md;
  }
  
  .recommendation-card:hover {
    border-color: var(--color-accent);
  }
  
  .recommendation-card.selected {
    border-color: var(--color-accent);
    background-color: var(--color-primary-light);
  }
  
  .achievement-card {
    @apply text-center p-3 rounded-lg border-2;
  }
  
  .achievement-card.unlocked {
    @apply bg-yellow-50 border-yellow-200;
  }
  
  .achievement-card.locked {
    @apply bg-gray-50 border-gray-200 opacity-50;
  }
  
  /* ============================================================================
     PROGRESS COMPONENTS
     ============================================================================ */
  
  .progress-ring {
    transform: rotate(-90deg);
  }
  
  .progress-ring-circle {
    transition: stroke-dasharray 0.3s ease;
  }
  
  .progress-tracker-item {
    @apply flex items-center space-x-3 p-3 bg-gray-50 rounded-lg;
  }
  
  .progress-tracker-score {
    @apply w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm;
  }
  
  .progress-tracker-score.excellent {
    @apply bg-green-500;
  }
  
  .progress-tracker-score.good {
    @apply bg-blue-500;
  }
  
  .progress-tracker-score.average {
    @apply bg-yellow-500;
  }
  
  .progress-tracker-score.poor {
    @apply bg-red-500;
  }
  
  /* ============================================================================
     GAMIFICATION COMPONENTS
     ============================================================================ */
  
  .streak-counter {
    @apply flex items-center space-x-2 px-3 py-1 rounded-full;
    background-color: var(--color-primary-light);
    color: var(--color-primary-dark);
  }
  
  .xp-bar {
    @apply relative w-full bg-gray-200 rounded-full h-3 overflow-hidden;
  }
  
  .xp-bar-fill {
    @apply absolute left-0 top-0 h-full transition-all duration-500 ease-out;
    background: var(--gradient-primary);
  }
  
  .xp-bar-text {
    @apply absolute inset-0 flex items-center justify-center text-xs font-bold text-white mix-blend-difference;
  }
  
  .leaderboard-item {
    @apply flex items-center justify-between p-3 bg-white rounded-lg border hover:shadow-sm transition-shadow;
  }
  
  .leaderboard-rank {
    @apply w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm;
  }
  
  .leaderboard-rank.first {
    @apply bg-yellow-500 text-white;
  }
  
  .leaderboard-rank.second {
    @apply bg-gray-400 text-white;
  }
  
  .leaderboard-rank.third {
    @apply bg-orange-600 text-white;
  }
  
  .leaderboard-rank.other {
    @apply bg-gray-100 text-gray-700;
  }
  
  /* ============================================================================
     BADGE COMPONENTS
     ============================================================================ */
  
  .difficulty-badge {
    @apply px-2 py-1 rounded-full text-xs font-medium border;
  }
  
  .difficulty-badge.easy {
    @apply bg-green-100 text-green-800 border-green-200;
  }
  
  .difficulty-badge.medium {
    @apply bg-yellow-100 text-yellow-800 border-yellow-200;
  }
  
  .difficulty-badge.hard {
    @apply bg-red-100 text-red-800 border-red-200;
  }
  
  .confidence-badge {
    @apply inline-flex items-center space-x-1;
  }
  
  .confidence-badge.high {
    @apply text-green-600;
  }
  
  .confidence-badge.medium {
    @apply text-yellow-600;
  }
  
  .confidence-badge.low {
    @apply text-red-600;
  }
  
  /* ============================================================================
     CONTENT TYPE COMPONENTS
     ============================================================================ */
  
  .content-type-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }
  
  .content-type-card {
    @apply bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow cursor-pointer;
  }
  
  .content-type-header {
    @apply flex items-center space-x-3 mb-4;
  }
  
  .content-type-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center text-2xl;
  }
  
  .video-card .content-type-icon {
    @apply bg-red-100 text-red-600;
  }
  
  .experiment-card .content-type-icon {
    @apply bg-blue-100 text-blue-600;
  }
  
  .simulation-card .content-type-icon {
    @apply bg-purple-100 text-purple-600;
  }
  
  .model-card .content-type-icon {
    @apply bg-green-100 text-green-600;
  }
  
  .quiz-card .content-type-icon {
    @apply bg-orange-100 text-orange-600;
  }
  
  /* ============================================================================
     DASHBOARD COMPONENTS
     ============================================================================ */
  
  .dashboard-header {
    @apply bg-white shadow-sm border-b;
  }
  
  .dashboard-stats-grid {
    @apply grid grid-cols-1 md:grid-cols-4 gap-4;
  }
  
  .dashboard-stat-card {
    @apply bg-white p-6 rounded-xl shadow-sm border;
  }
  
  .dashboard-stat-icon {
    @apply p-2 rounded-lg;
  }
  
  .dashboard-stat-icon.blue {
    @apply bg-blue-100 text-blue-600;
  }
  
  .dashboard-stat-icon.green {
    @apply bg-green-100 text-green-600;
  }
  
  .dashboard-stat-icon.yellow {
    @apply bg-yellow-100 text-yellow-600;
  }
  
  .dashboard-stat-icon.purple {
    @apply bg-purple-100 text-purple-600;
  }
  
  /* ============================================================================
     FORM COMPONENTS
     ============================================================================ */
  
  .form-group {
    @apply mb-4;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }
  
  .form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-transparent;
    --tw-ring-color: var(--color-primary);
  }
  
  .form-input:invalid {
    @apply border-red-300;
  }
  
  .form-error {
    @apply text-red-600 text-sm mt-1;
  }
  
  .form-help {
    @apply text-gray-500 text-sm mt-1;
  }
  
  /* ============================================================================
     MODAL COMPONENTS
     ============================================================================ */
  
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
  }
  
  .modal-content {
    @apply bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6;
  }
  
  .modal-header {
    @apply flex items-center justify-between mb-4;
  }
  
  .modal-title {
    @apply text-lg font-semibold text-gray-900;
  }
  
  .modal-close {
    @apply text-gray-400 hover:text-gray-600 cursor-pointer;
  }
  
  .modal-body {
    @apply mb-6;
  }
  
  .modal-footer {
    @apply flex justify-end space-x-3;
  }
  
  /* ============================================================================
     LOADING COMPONENTS
     ============================================================================ */
  
  .loading-container {
    @apply flex items-center justify-center py-12;
  }
  
  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2;
    border-color: var(--color-primary);
  }
  
  .loading-text {
    @apply text-gray-600 mt-2;
  }
  
  .skeleton-loader {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  .skeleton-line {
    @apply h-4 bg-gray-200 rounded mb-2;
  }
  
  .skeleton-circle {
    @apply rounded-full bg-gray-200;
  }
  
  /* ============================================================================
     RESPONSIVE BREAKPOINTS
     ============================================================================ */
  
  @media (max-width: 640px) {
    .sidebar {
      @apply transform -translate-x-full;
    }
    
    .sidebar.open {
      @apply translate-x-0;
    }
    
    .dashboard-stats-grid {
      @apply grid-cols-2;
    }
    
    .content-type-grid {
      @apply grid-cols-1;
    }
    
    .subject-card {
      @apply mx-2;
    }
  }
  
  @media (max-width: 768px) {
    .dashboard-stats-grid {
      @apply grid-cols-2;
    }
    
    .modal-content {
      @apply max-w-sm;
    }
  }
  
  /* ============================================================================
     ACCESSIBILITY IMPROVEMENTS
     ============================================================================ */
  
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  }
  
  .focus-visible:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: var(--color-primary);
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .card {
      @apply border-2 border-gray-800;
    }
    
    .btn-primary {
      border: 2px solid var(--color-primary-dark);
    }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* ============================================================================
     THEME SYSTEM
     ============================================================================ */

  /* Dark Mode Styles */
  html.dark {
    --color-background: #111827;
    --color-surface: #1f2937;
    --color-text: #f9fafb;
    --color-text-secondary: #d1d5db;
    --color-border: #374151;
  }

  html.dark body {
    @apply bg-gray-900 text-gray-100;
  }

  html.dark .bg-white {
    @apply bg-gray-800 !important;
  }

  html.dark .text-gray-900 {
    @apply text-gray-100 !important;
  }

  html.dark .text-gray-700 {
    @apply text-gray-300 !important;
  }

  html.dark .text-gray-600 {
    @apply text-gray-400 !important;
  }

  html.dark .border-gray-200 {
    @apply border-gray-700 !important;
  }

  html.dark .border-gray-300 {
    @apply border-gray-600 !important;
  }

  /* Color Scheme Variants */
  html.scheme-orange {
    --color-primary: #f97316;
    --color-primary-dark: #ea580c;
    --color-primary-light: #fed7aa;
  }

  html.scheme-blue {
    --color-primary: #3b82f6;
    --color-primary-dark: #2563eb;
    --color-primary-light: #dbeafe;
  }

  html.scheme-green {
    --color-primary: #10b981;
    --color-primary-dark: #059669;
    --color-primary-light: #d1fae5;
  }

  html.scheme-purple {
    --color-primary: #8b5cf6;
    --color-primary-dark: #7c3aed;
    --color-primary-light: #e9d5ff;
  }

  /* Apply primary colors to all orange variants */
  .bg-orange-500 {
    background-color: var(--color-primary) !important;
  }
  
  .text-orange-500 {
    color: var(--color-primary) !important;
  }
  
  .border-orange-500 {
    border-color: var(--color-primary) !important;
  }

  .bg-orange-600 {
    background-color: var(--color-primary-dark) !important;
  }
  
  .text-orange-600 {
    color: var(--color-primary-dark) !important;
  }
  
  .border-orange-600 {
    border-color: var(--color-primary-dark) !important;
  }

  .bg-orange-100 {
    background-color: var(--color-primary-light) !important;
  }
  
  .text-orange-100 {
    color: var(--color-primary-light) !important;
  }
  
  .border-orange-100 {
    border-color: var(--color-primary-light) !important;
  }

  .bg-orange-200 {
    background-color: var(--color-primary-light) !important;
  }
  
  .text-orange-200 {
    color: var(--color-primary-light) !important;
  }
  
  .border-orange-200 {
    border-color: var(--color-primary-light) !important;
  }

  .bg-orange-300 {
    background-color: var(--color-primary-light) !important;
  }
  
  .text-orange-300 {
    color: var(--color-primary-light) !important;
  }
  
  .border-orange-300 {
    border-color: var(--color-primary-light) !important;
  }

  .bg-orange-400 {
    background-color: var(--color-primary) !important;
  }
  
  .text-orange-400 {
    color: var(--color-primary) !important;
  }
  
  .border-orange-400 {
    border-color: var(--color-primary) !important;
  }

  .bg-orange-700 {
    background-color: var(--color-primary-dark) !important;
  }
  
  .text-orange-700 {
    color: var(--color-primary-dark) !important;
  }
  
  .border-orange-700 {
    border-color: var(--color-primary-dark) !important;
  }

  .bg-orange-800 {
    background-color: var(--color-primary-dark) !important;
  }
  
  .text-orange-800 {
    color: var(--color-primary-dark) !important;
  }
  
  .border-orange-800 {
    border-color: var(--color-primary-dark) !important;
  }

  /* Gradient backgrounds */
  .bg-gradient-to-b.from-orange-500.to-orange-600 {
    background: var(--gradient-primary) !important;
  }

  .bg-gradient-to-r.from-orange-400.to-orange-600 {
    background: var(--gradient-primary) !important;
  }

  /* Focus and ring colors */
  .ring-orange-500 {
    --tw-ring-color: var(--color-primary) !important;
  }

  .ring-orange-300 {
    --tw-ring-color: var(--color-accent) !important;
  }

  .focus\:ring-orange-500:focus {
    --tw-ring-color: var(--color-primary) !important;
  }

  /* Hover states */
  .hover\:bg-orange-600:hover {
    background-color: var(--color-primary-dark) !important;
  }

  .hover\:border-orange-300:hover {
    border-color: var(--color-accent) !important;
  }

  /* Font Size Variants */
  html.font-small {
    font-size: 14px;
  }

  html.font-small .text-sm {
    font-size: 0.75rem;
  }

  html.font-small .text-base {
    font-size: 0.875rem;
  }

  html.font-small .text-lg {
    font-size: 1rem;
  }

  html.font-large {
    font-size: 18px;
  }

  html.font-large .text-sm {
    font-size: 0.875rem;
  }

  html.font-large .text-base {
    font-size: 1.125rem;
  }

  html.font-large .text-lg {
    font-size: 1.25rem;
  }

  /* High Contrast Mode */
  html.high-contrast {
    --color-background: #ffffff;
    --color-surface: #ffffff;
    --color-text: #000000;
    --color-border: #000000;
  }

  html.high-contrast.dark {
    --color-background: #000000;
    --color-surface: #000000;
    --color-text: #ffffff;
    --color-border: #ffffff;
  }

  html.high-contrast .border {
    border-width: 2px !important;
    border-color: var(--color-border) !important;
  }

  html.high-contrast .text-gray-600,
  html.high-contrast .text-gray-500,
  html.high-contrast .text-gray-400 {
    color: var(--color-text) !important;
  }

  /* Compact Mode */
  html.compact-mode .p-6 {
    @apply p-4 !important;
  }

  html.compact-mode .p-4 {
    @apply p-2 !important;
  }

  html.compact-mode .p-3 {
    @apply p-2 !important;
  }

  html.compact-mode .mb-6 {
    @apply mb-4 !important;
  }

  html.compact-mode .mb-4 {
    @apply mb-2 !important;
  }

  html.compact-mode .space-y-6 > * + * {
    margin-top: 1rem !important;
  }

  html.compact-mode .space-y-4 > * + * {
    margin-top: 0.5rem !important;
  }

  html.compact-mode .gap-6 {
    gap: 1rem !important;
  }

  html.compact-mode .gap-4 {
    gap: 0.5rem !important;
  }

  /* Reduced Motion */
  html.reduce-motion *,
  html.reduce-motion *::before,
  html.reduce-motion *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Media query fallbacks */
  @media (prefers-color-scheme: dark) {
    html:not(.light) {
      --color-background: #111827;
      --color-surface: #1f2937;
      --color-text: #f9fafb;
      --color-text-secondary: #d1d5db;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    html:not(.animations-enabled) * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }